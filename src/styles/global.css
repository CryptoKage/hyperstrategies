/* ==========================================================================
   1. THEME & BASE STYLES
   ========================================================================== */

:root {
  --color-background: #040e21;
  --color-primary: #3fbaf3;
  --color-surface: #101827;
  --color-border: #2c3a4f;
  --color-text-primary: #ffffff;
  --color-text-secondary: #a0aec0;
  --color-error: #ef4444;
}

*, *::before, *::after { box-sizing: border-box; }
html, body { height: 100%; margin: 0; padding: 0; }
body {
  font-family: 'Inter', sans-serif;
  background-color: var(--color-background);
  color: var(--color-text-primary);
  line-height: 1.5;
}
h1,h2,h3,h4,h5,h6,p,ul,li { margin: 0; padding: 0; }
h1,h2,h3 { color: #ffffff; }
a { color: var(--color-primary); text-decoration: none; }
a:hover { text-decoration: underline; }
button { cursor: pointer; font-family: inherit; font-weight: 500; border: none; }

/* ==========================================================================
   2. GLOBAL LAYOUT & ANIMATED BACKGROUNDS
   ========================================================================== */

.layout-wrapper {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  background-color: var(--color-background); /* Solid fallback */
}
.main-content {
  flex: 1;
  position: relative;
  z-index: 1;
  background-color: transparent;
}
.interactive-background, .plasma-background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  pointer-events: none;
}
.interactive-background { z-index: -2; }
.plasma-background {
  z-index: -3;
  opacity: 0.6;
  mask-image: linear-gradient(to top, black 40%, transparent 100%);
  -webkit-mask-image: linear-gradient(to top, black 40%, transparent 100%);
}

/* --- Page Containers --- */
.dashboard-container, .wallet-container, .profile-container, .admin-container,
.faq-container, .leaderboard-container, .hero-section-wrapper,
.path-selector-section, .auth-wrapper {
  background-color: transparent;
}
.dashboard-container, .wallet-container, .profile-container, .admin-container, .faq-container, .leaderboard-container {
  max-width: 1200px;
  margin: 40px auto;
  padding: 20px;
}

/* ==========================================================================
   3. REUSABLE COMPONENTS
   ========================================================================== */

/* --- Buttons --- */
.btn-primary {
  width: 100%; padding: 14px; font-size: 16px; background-color: var(--color-primary);
  color: var(--color-background); border: none; border-radius: 8px; font-weight: bold;
  transition: background-color 0.2s ease-in-out;
}
.btn-primary:hover { background-color: #63cfff; }
.btn-secondary {
  background: transparent; color: var(--color-text-secondary); padding: 0.75rem 1rem;
  border-radius: 8px; border: 1px solid var(--color-border); font-weight: 600;
  transition: all 0.2s;
}
.btn-secondary:hover { background-color: var(--color-border); color: var(--color-text-primary); }
.btn-outline {
  background: transparent; border: 1px solid #00d4ff; color: #00d4ff;
  padding: 12px 24px; border-radius: 6px; transition: all 0.2s;
}
.btn-outline:hover { background-color: #00d4ff10; }
.btn-icon {
  background: none; border: none; color: var(--color-text-secondary); cursor: pointer;
  padding: 4px; border-radius: 50%; display: flex; align-items: center; justify-content: center;
}
.btn-icon:hover { background-color: var(--color-border); color: var(--color-text-primary); }
.btn-sm { padding: 8px 16px; font-size: 14px; display: inline-flex; align-items: center; }
.button-row { display: flex; gap: 16px; flex-wrap: wrap; margin-top: 24px; }
.btn-google {
  display: flex; align-items: center; justify-content: center; width: 100%; padding: 12px 24px;
  border-radius: 8px; font-weight: bold; cursor: pointer; transition: all 0.2s; font-size: 16px;
  background-color: #ffffff; color: #222; border: 1px solid #ddd;
}
.btn-google:hover { background-color: #f8f9fa; }

/* --- Cards --- */
.stat-card, .vault-card, .profile-card, .admin-card, .action-card, .activity-card, .balance-card {
  background-color: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: 12px;
  padding: 24px;
  display: flex;
  flex-direction: column;
}
.card { /* For homepage cards specifically */
  background-color: #1a1e1b; border: 1px solid #333; border-radius: 12px;
  padding: 24px; color: #a0a0a0; display: flex; flex-direction: column;
  justify-content: space-between; text-align: center; transition: all 0.3s ease;
  min-height: 320px;
}
.card--clickable:hover { box-shadow: 0 4px 12px rgba(0,0,0,0.3); transform: translateY(-4px); border-color: #444; }

/* --- Forms & Inputs --- */
.input-group { margin-bottom: 24px; position: relative; }
.input-label { display: block; margin-bottom: 8px; font-size: 14px; font-weight: 500; color: var(--color-text-secondary); }
.input-field {
  width: 100%; padding: 14px 16px; background-color: var(--color-background);
  border: 1px solid var(--color-border); border-radius: 8px; color: var(--color-text-primary);
  font-size: 16px; transition: all 0.2s ease-in-out; box-sizing: border-box;
}
.input-field:focus { outline: none; border-color: var(--color-primary); box-shadow: 0 0 0 3px rgba(63, 186, 243, 0.2); }
.error-message {
  color: var(--color-error); background-color: rgba(239, 68, 68, 0.1); border: 1px solid var(--color-error);
  padding: 12px; border-radius: 8px; text-align: center;
}

/* --- Modals --- */
.modal-overlay {
  position: fixed; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(0, 0, 0, 0.7);
  display: flex; align-items: center; justify-content: center; z-index: 1000;
}
.modal-content {
  background-color: var(--color-surface); padding: 40px; border-radius: 16px;
  width: 90%; max-width: 500px; position: relative; border: 1px solid var(--color-border);
}
.modal-close-btn { position: absolute; top: 16px; right: 16px; background: none; border: none; color: var(--color-text-secondary); font-size: 28px; cursor: pointer; }
.modal-content h2 { margin-top: 0; margin-bottom: 8px; }
.modal-subtitle { color: var(--color-text-secondary); margin-top: 0; margin-bottom: 32px; }
.modal-actions { display: flex; justify-content: flex-end; gap: 16px; }

/* ... (Many other component styles like tables, skeletons, etc. are included in their page-specific sections for clarity) ... */

/* ==========================================================================
   4. LAYOUT COMPONENTS (Header, Footer)
   ========================================================================== */

.header {
  background-color: var(--color-surface); border-bottom: 1px solid var(--color-border);
  padding: 12px 24px; display: flex; justify-content: space-between; align-items: center;
  position: relative; z-index: 10;
}
.header__left { display: flex; align-items: center; gap: 16px; }
.header__logo { height: 40px; }
.header__title { font-size: 20px; font-weight: 600; color: var(--color-text-primary); }
.header__right { display: flex; align-items: center; gap: 16px; }
.header__button {
  text-decoration: none; color: var(--color-text-secondary); font-weight: 500; padding: 8px 16px;
  border-radius: 6px; transition: all 0.2s; background: none; border: none; font-size: 14px; cursor: pointer;
}
.header__button:hover { background-color: var(--color-border); color: var(--color-text-primary); }
.header__button--primary { background-color: var(--color-primary); color: var(--color-background); font-weight: bold; }
.header__button--primary:hover { background-color: #63cfff; }
.header__button--admin { background-color: #ef4444; color: white !important; font-weight: bold; }
.header__button--admin:hover { background-color: #dc2626; }

.footer {
  position: relative; z-index: 1; display: flex; flex-direction: column; align-items: center;
  justify-content: center; padding: 48px 24px; text-align: center; margin-top: 60px;
  color: var(--color-text-secondary); font-size: 14px; border-top: 1px solid var(--color-border);
  background: linear-gradient(to top, var(--color-background) 80%, transparent);
}
.footer__socials { display: flex; align-items: center; gap: 24px; margin: 16px 0; }
.social-link { color: var(--color-text-secondary); transition: color 0.2s; }
.social-link:hover { color: var(--color-primary); }
.social-icon { width: 24px; height: 24px; }
.footer__disclaimer { font-size: 12px; margin-top: 16px; width: 100%; max-width: 600px; opacity: 0.7; }

/* ==========================================================================
   5. PAGE-SPECIFIC STYLES
   ========================================================================== */

/* --- Homepage --- */
.hero-section-wrapper { position: relative; padding: 80px 24px; }
.hero-section {
  display: grid; grid-template-columns: 1fr 1.2fr; align-items: center;
  gap: 48px; max-width: 1200px; margin: 0 auto; position: relative; z-index: 2;
}
.hero-content { text-align: left; }
.hero-headline { font-size: 52px !important; font-weight: 800; line-height: 1.2; margin-bottom: 24px; }
.hero-subtext { font-size: 18px; line-height: 1.7; max-width: 450px; margin-bottom: 32px; }
.hero-image-container {
  border-radius: 12px; overflow: hidden; border: 1px solid var(--color-border);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3); height: 100%;
}
.hero-image { width: 100%; height: 100%; object-fit: cover; display: block; }
.path-selector-section { max-width: 1024px; margin: 60px auto; padding: 0 24px; }
.path-selector-section h2 { margin-bottom: 24px; }
.card-grid { display: flex; flex-wrap: wrap; gap: 20px; justify-content: center; }

/* --- Dashboard & Vaults --- */
.dashboard-container h1 { font-size: 32px; margin-bottom: 32px; }
.dashboard-container h2 { font-size: 24px; margin-top: 48px; margin-bottom: 24px; border-bottom: 1px solid var(--color-border); padding-bottom: 12px; }
.stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 24px; }
.vaults-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 24px; }
.vault-card.with-bg {
  position: relative; background-size: cover; background-position: center;
  color: #ffffff; overflow: hidden;
}
.vault-card.with-bg .card-overlay {
  content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
  background-color: rgba(4, 14, 33, 0.7); z-index: 1; transition: background-color 0.3s;
}
.vault-card.with-bg:hover .card-overlay { background-color: rgba(4, 14, 33, 0.5); }
.vault-card.with-bg .card-content {
  position: relative; z-index: 2; display: flex; flex-direction: column; height: 100%;
}
.vault-card.with-bg h3, .vault-card.with-bg span, .vault-card.with-bg p { color: #ffffff !important; }

/* --- Wallet Page --- */
.wallet-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 32px; }
.wallet-header h1 { margin: 0; font-size: 32px; }
.balance-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 24px; margin-bottom: 48px; }
.address-section { padding: 32px; text-align: center; }
.address-section h2 { margin-top: 0; }
.address-subtext { margin-bottom: 24px; }
.address-box {
  background-color: var(--color-background); padding: 16px;
  display: flex; justify-content: space-between; align-items: center; gap: 16px;
}
.eth-address { font-family: 'Courier New', Courier, monospace; font-size: 16px; word-break: break-all; text-align: left; }
.history-container { margin-top: 48px; }
.history-container h2 { font-size: 24px; margin-bottom: 24px; border-bottom: 1px solid var(--color-border); padding-bottom: 12px; }

/* ... Add other page sections like Profile, Admin, etc. here ... */

/* ==========================================================================
   6. MOBILE & RESPONSIVE STYLES
   ========================================================================== */
@media (max-width: 768px) {
  /* General Layout */
  .dashboard-container, .wallet-container, .profile-container, .admin-container, .faq-container, .leaderboard-container { padding: 20px 16px; margin-top: 24px; }
  h1, .dashboard-container h1, .wallet-header h1, .hero-headline { font-size: 28px !important; }
  h2, .dashboard-container h2 { font-size: 20px !important; }
  
  /* Header */
  .header { flex-direction: column; align-items: flex-start; padding: 16px; gap: 0; }
  .header__right { width: 100%; margin-top: 16px; flex-wrap: wrap; justify-content: flex-start; gap: 8px; }
  .header__title { display: none; }

  /* Grids */
  .stats-grid, .vaults-grid, .balance-grid, .actions-grid, .profile-grid, .admin-grid, .hero-section { grid-template-columns: 1fr; }
  .card-grid { flex-direction: column; align-items: center; }
  .card-grid .card { margin: 0 auto; width: 90%; max-width: 320px; }
  
  /* Modals */
  .modal-content { width: 90vw; padding: 24px 16px; max-height: 85vh; overflow-y: auto; }
  
  /* Tables */
  .history-table, .activity-table { display: block; overflow-x: auto; white-space: nowrap; }

  /* Homepage */
  .hero-section-wrapper { padding: 40px 16px; }
  .hero-content { text-align: center; grid-row: 2; }
  .hero-image-container { grid-row: 1; }
  .button-row { justify-content: center; }
}